{"remainingRequest":"D:\\Bishe\\Bishe4\\Resume-system-main\\src\\main\\resources\\admin\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\Bishe\\Bishe4\\Resume-system-main\\src\\main\\resources\\admin\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Bishe\\Bishe4\\Resume-system-main\\src\\main\\resources\\admin\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Bishe\\Bishe4\\Resume-system-main\\src\\main\\resources\\admin\\admin\\src\\views\\modules\\chat\\chat-add-or-update.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Bishe\\Bishe4\\Resume-system-main\\src\\main\\resources\\admin\\admin\\src\\views\\modules\\chat\\chat-add-or-update.vue","mtime":1730170763000},{"path":"D:\\Bishe\\Bishe4\\Resume-system-main\\src\\main\\resources\\admin\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Bishe\\Bishe4\\Resume-system-main\\src\\main\\resources\\admin\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Bishe\\Bishe4\\Resume-system-main\\src\\main\\resources\\admin\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Bishe\\Bishe4\\Resume-system-main\\src\\main\\resources\\admin\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpZDogIiIsCiAgICAgIHJ1bGVGb3JtOiB7fSwKICAgICAgZGF0YUxpc3Q6IFtdLAogICAgICBydWxlczogewogICAgICAgIHJlcGx5OiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi5Zue5aSN5YaF5a655LiN6IO95Li656m6IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIGludGVyOiBudWxsCiAgICB9OwogIH0sCiAgcHJvcHM6IFsicGFyZW50Il0sCiAgbWV0aG9kczogewogICAgLy8g5Yid5aeL5YyWCiAgICBpbml0OiBmdW5jdGlvbiBpbml0KGlkKSB7CiAgICAgIHRoaXMuaWQgPSBpZDsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICB2YXIgaW50ZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhhdC5nZXRMaXN0KCk7CiAgICAgIH0sIDMwMDApOwogICAgICB0aGlzLmludGVyID0gaW50ZXI7CiAgICB9LAogICAgZ2V0TGlzdDogZnVuY3Rpb24gZ2V0TGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgc29ydDogJ2FkZHRpbWUnLAogICAgICAgIG9yZGVyOiAnYXNjJwogICAgICB9OwogICAgICB0aGlzLiRodHRwKHsKICAgICAgICB1cmw6IHRoaXMuJGFwaS5jaGF0Ynl1c2VyaWRwYWdlICsgdGhpcy5pZCwKICAgICAgICBtZXRob2Q6ICJnZXQiLAogICAgICAgIHBhcmFtczogcGFyYW1zCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICB2YXIgZGF0YSA9IF9yZWYuZGF0YTsKCiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5jb2RlID09PSAwKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgICAgIF90aGlzLnJ1bGVGb3JtLnVzZXJpZCA9IF90aGlzLmlkOwogICAgICAgICAgX3RoaXMuZGF0YUxpc3QgPSBkYXRhLmRhdGEubGlzdDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyb3IoZGF0YS5tc2cpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5o+Q5LqkCiAgICBvblN1Ym1pdDogZnVuY3Rpb24gb25TdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmc1sicnVsZUZvcm0iXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIF90aGlzMi4kaHR0cCh7CiAgICAgICAgICAgIHVybDogX3RoaXMyLiRhcGkuY2hhdHNhdmUsCiAgICAgICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgICAgICBkYXRhOiBfdGhpczIucnVsZUZvcm0KICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWYyKSB7CiAgICAgICAgICAgIHZhciBkYXRhID0gX3JlZjIuZGF0YTsKCiAgICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEuY29kZSA9PT0gMCkgewogICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICBtZXNzYWdlOiAi5pON5L2c5oiQ5YqfIiwKICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxNTAwLAogICAgICAgICAgICAgICAgb25DbG9zZTogZnVuY3Rpb24gb25DbG9zZSgpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmdldExpc3QoKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi5ydWxlRm9ybS5yZXBseSA9ICIiOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcihkYXRhLm1zZyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g6L+U5ZueCiAgICBiYWNrOiBmdW5jdGlvbiBiYWNrKCkgewogICAgICB0aGlzLnBhcmVudC5zaG93RmxhZyA9IGZhbHNlOwogICAgICB0aGlzLnBhcmVudC5nZXREYXRhTGlzdCgpOwoKICAgICAgaWYgKHRoaXMuaW50ZXIpIHsKICAgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXIpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["chat-add-or-update.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <el-form\n      class=\"detail-form-content\"\n      ref=\"ruleForm\"\n      :model=\"ruleForm\"\n      :rules=\"rules\"\n      label-width=\"80px\"\n    >\n      <div class=\"chat-content\">\n        <div v-bind:key=\"item.id\" v-for=\"item in dataList\">\n          <div v-if=\"item.ask\" class=\"left-content\">\n            <el-alert class=\"text-content\" :title=\"item.ask\" :closable=\"false\" type=\"success\"></el-alert>\n          </div>\n          <div v-else class=\"right-content\">\n            <el-alert class=\"text-content\" :title=\"item.reply\" :closable=\"false\" type=\"warning\"></el-alert>\n          </div>\n          <div class=\"clear-float\"></div>\n        </div>\n      </div>\n      <div class=\"clear-float\"></div>\n      <el-form-item label=\"回复\" prop=\"reply\">\n        <el-input v-model=\"ruleForm.reply\" placeholder=\"回复\" clearable></el-input>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"onSubmit\">回复</el-button>\n        <el-button @click=\"back()\">返回</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      id: \"\",\n      ruleForm: {},\n      dataList: [],\n      rules: {\n        reply: [\n          { required: true, message: \"回复内容不能为空\", trigger: \"blur\" }\n        ]\n      },\n      inter:null\n    };\n  },\n  props: [\"parent\"],\n  methods: {\n    // 初始化\n    init(id) {\n      this.id = id;\n      var that = this;\n      var inter= setInterval(function(){\n        that.getList();\n      },3000)\n      this.inter = inter;\n    },\n\n    getList() {\n      let params = {\n        sort: 'addtime',\n\torder: 'asc'\n      }\n      this.$http({\n        url: this.$api.chatbyuseridpage + this.id,\n        method: \"get\",\n\tparams: params\n      }).then(({ data }) => {\n        if (data && data.code === 0) {\n          console.log(data);\n          this.ruleForm.userid = this.id;\n          this.dataList = data.data.list;\n        } else {\n          this.$message.error(data.msg);\n        }\n      });\n    },\n    // 提交\n    onSubmit() {\n      this.$refs[\"ruleForm\"].validate(valid => {\n        if (valid) {\n          this.$http({\n            url: this.$api.chatsave,\n            method: \"post\",\n            data: this.ruleForm\n          }).then(({ data }) => {\n            if (data && data.code === 0) {\n              this.$message({\n                message: \"操作成功\",\n                type: \"success\",\n                duration: 1500,\n                onClose: () => {\n                  this.getList();\n                  this.ruleForm.reply = \"\";\n                }\n              });\n            } else {\n              this.$message.error(data.msg);\n            }\n          });\n        }\n      });\n    },\n    // 返回\n    back() {\n      this.parent.showFlag = false;\n      this.parent.getDataList();\n      if(this.inter){\n        clearInterval(this.inter);\n      }\n    }\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n.chat-content {\n  margin-left: 80px;\n  padding-bottom: 60px;\n  width: 500px;\n  margin-bottom: 30px;\n  max-height: 300px;\n  height: 300px;\n  overflow-y: scroll;\n  border: 1px solid #eeeeee;\n  .left-content {\n    float: left;\n    margin-bottom: 10px;\n    padding: 10px;\n  }\n  .right-content {\n    float: right;\n    margin-bottom: 10px;\n    padding: 10px;\n  }\n}\n.clear-float {\n  clear: both;\n}\n</style>\n"],"sourceRoot":"src/views/modules/chat"}]}